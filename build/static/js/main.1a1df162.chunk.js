(this.webpackJsonprainmaker=this.webpackJsonprainmaker||[]).push([[0],{198:function(e,t,n){e.exports=n(427)},203:function(e,t,n){},204:function(e,t,n){},235:function(e,t){},298:function(e,t,n){},427:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(39),i=n.n(r),l=(n(203),n(5)),c=(n(204),n(433)),d=n(176),u=n.n(d),s=function(e){var t={display:"flex",justifyContent:e.justifyContent,alignItems:e.alignItems,height:window.innerHeight,width:window.innerWidth,backgroundColor:e.backgroundColor};return o.a.createElement("div",{style:t},e.children)},m=n(64),p=n(28),g=function(e){var t=Object(p.a)({color:"white",fontSize:18,fontFamily:" 'Fredoka One', cursive"},e.style);return o.a.createElement("div",{style:t},e.children)},h=function(e){var t=Object(p.a)(Object(m.a)({display:"flex",flexDirection:e.direction,justifyContent:e.justifyContent,alignItems:e.alignItems,height:e.height,width:e.width,backgroundColor:e.backgroundColor,padding:e.padding,margin:e.margin,borderRadius:e.borderRadius,flexWrap:e.flexWrap,boxShadow:e.boxShadow&&"0 2px 1px -1px rgba(0,0,0,.2), 0 1px 1px 0 rgba(0,0,0,.14), 0 1px 3px 0 rgba(0,0,0,.12)"},"padding",e.padding),e.style);return o.a.createElement(o.a.Fragment,null,o.a.createElement(g,{style:{minHeight:e.title&&30}},e.title),o.a.createElement("div",{style:t},e.children))},f=n(177),x=n(178),b=function(){return o.a.createElement(h,{height:"120px",width:"100%",justifyContent:"center",alignItems:"center",direction:"column",style:{borderBottom:"dashed 2px #ffffff3b"}},o.a.createElement(f.a,{size:"2x",style:{color:"white"},icon:x.a}),o.a.createElement("div",{style:{marginTop:10}}),o.a.createElement(g,null,"Lumen"))},w=n(26),E=n(18),y=n.n(E),v=o.a.createContext({zones:[{name:"Front Yard Center",zone:"1",active:!1,uptime:0},{name:"Front Yard Right",zone:"2",active:!1,uptime:0},{name:"Backyard",zone:"4",active:!1,uptime:0},{name:"Front Yard Flower Beds",zone:"5",active:!1,uptime:0}],usage:{amount:0,time:0,change:0},house:{totalTimeOn:0}}),k=function(e,t){var n=Object(p.a)({},e);switch(t.type){case"SET_ROOMS":n.rooms=t.payload.rooms,n.house=t.payload.house;break;case"SET_ANALYTICS":n.analytics=t.payload;break;default:throw new Error}return n},O={rooms:[],house:{analytics:[],totalPowerOn:0},isLoading:!1},C=function(e){var t=o.a.useReducer(k,O),n=Object(l.a)(t,2),a=n[0],r=n[1];return o.a.useLayoutEffect((function(){y.a.get("/api/rooms").then((function(e){return e})).catch((function(e){console.log(e)})).then((function(e){r({type:"SET_ROOMS",payload:e.data}),console.log(a)})),e.socket.on("groups_update",(function(e){r({type:"SET_ROOMS",payload:e})}))}),[]),o.a.createElement(v.Provider,{value:Object(p.a)({},a,{dispatch:r})},e.children)},S=n(432),F=function(e){var t={item:{padding:"12px 0px 12px 0px",color:"white",fontFamily:'"Fredoka One", cursive'},name:{fontSize:e.fontSize,marginLeft:e.noMargin?0:10,color:"white",fontFamily:'"Fredoka One", cursive'},description:{fontSize:11,marginLeft:e.noMargin?0:10,color:"#ffffff6b",fontFamily:'"Fredoka One", cursive'}};return o.a.createElement(h,{direction:"column"},o.a.createElement("div",{style:t.name},e.title),o.a.createElement("div",{style:t.description},e.description))},L=function(e){var t=o.a.useState(0),n=Object(l.a)(t,2),a=n[0],r=n[1],i=o.a.useContext(v),c=function(e){var t=e.on,n=e.id,a=e.setLoading;e.room;return a(n.toString()),t?function(e,t){return y.a.get("/api/room/off/".concat(e)).then((function(e){return t(0),e})).catch((function(e){console.log(e)}))}(n,a):function(e,t){return y.a.get("/api/room/on/".concat(e)).then((function(e){return t(0),e})).catch((function(e){console.log(e)}))}(n,a)},d={item:{padding:"12px 0px 12px 0px",color:"white",fontFamily:'"Fredoka One", cursive'},name:{marginLeft:10},description:{fontSize:11,marginLeft:10,color:"#ffffff6b",fontFamily:'"Fredoka One", cursive'}};return i.rooms.map((function(e){return o.a.createElement(h,{alignItems:"center",direction:"row",style:d.item},o.a.createElement(S.a,{loading:a==e.id,checked:e.on,onChange:function(){return c({on:e.on,id:e.id,setLoading:r,room:e})}}),o.a.createElement(F,{fontSize:14,title:e.name,description:e.on?"All lights on":"No lights on"}))}))},j=function(){var e=o.a.useContext(v),t=parseFloat(e.house.totalPowerOn).toFixed(3)||0;return o.a.createElement(F,{fontSize:28,title:"".concat(t,"W"),description:"Power Usage"})},z=function(){var e=o.a.useContext(v);if(0===e.house.analytics.length)return null;var t=(new Date).getMonth(),n=Object(w.filter)(e.house.analytics,{id:t})||0,a=Object(l.a)(n,1)[0];return o.a.createElement(F,{fontSize:28,title:"".concat((a.totalTimeOn/36e5).toFixed(2),"H"),description:"Hours Active"})},R=n(10),T=n.n(R),M=(n(298),function(){return o.a.useContext(v).rooms.map((function(e){var t,n,a={bubble:{height:30,width:30,borderRadius:50,marginBottom:5,border:"4px solid grey",transition:"background-color 1s ease-in-out","@keyframes":"0% {background-color: #c55d03; 50% {background-color: #eb6d00;}; 100% {background-color: #c55d03;}}"},onFor:{fontSize:10,backgroundColor:"#cccccc",padding:"0px 10px 0px 10px",borderRadius:30}};e.on?(t=(((new Date).getTime()-e.lastOn)/6e4).toFixed(2),n="On For ".concat(t,"Min")):n="Off";return o.a.createElement(h,{direction:"column",style:{borderBottom:"2px dashed rgba(255, 255, 255, 0.23)"},justifyContent:"center",alignItems:"center",height:"100px",width:"100%"},o.a.createElement("div",{className:T()({"breath-animation":e.on}),style:a.bubble}),o.a.createElement(F,{noMargin:!0,fontSize:12,title:e.name}),o.a.createElement("div",{style:a.onFor},n))}))}),I=n(192),A=function(){var e=o.a.useContext(v);if(0===e.rooms.length)return null;var t=(new Date).getMonth(),n=(parseFloat(e.rooms).toFixed(2),e.rooms.map((function(e){return e.analytics[t].totalTimeOn})));Math.max.apply(Math,Object(I.a)(n.map((function(e){return e.totalTimeOn}))));return null},B=n(191),D=function(){var e=o.a.useContext(v);if(0===e.rooms.length)return null;var t=Object(w.filter)(e.house.analytics,{id:(new Date).getMonth()}),n=Object(l.a)(t,1)[0],a=e.rooms.map((function(e){var t=Object(w.filter)(e.analytics,{id:(new Date).getMonth()}),a=Object(l.a)(t,1)[0];return{label:e.name,id:e.name,value:(a.totalTimeOn/n.totalTimeOn*100).toFixed(2)}}));return o.a.createElement(B.a,{data:a,margin:{top:40,right:80,bottom:80,left:80},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"nivo"},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.2]]},radialLabelsSkipAngle:10,radialLabelsTextXOffset:6,radialLabelsTextColor:"#fff",radialLabelsLinkOffset:0,radialLabelsLinkDiagonalLength:16,radialLabelsLinkHorizontalLength:24,radialLabelsLinkStrokeWidth:1,radialLabelsLinkColor:{from:"color"},slicesLabelsSkipAngle:10,slicesLabelsTextColor:"#fff",animate:!0,motionStiffness:90,motionDamping:15,sortByValue:!0})},H=(c.a.Header,c.a.Footer,c.a.Content,"#333333"),W=u()("http://192.168.124.22:6700");var _=function(){var e=o.a.useState(window.innerHeight),t=Object(l.a)(e,2),n=(t[0],t[1]),a=o.a.useState(!1),r=Object(l.a)(a,2);return r[0],r[1],window.addEventListener("resize",(function(){n(window.innerHeight-129)})),o.a.createElement(C,{socket:W},o.a.createElement(s,{backgroundColor:"#1d1d1d"},o.a.createElement(h,{width:"20%"},o.a.createElement(h,{direction:"column",alignItems:"center",borderRadius:"20px",width:"100%",padding:"20px",margin:"30px 30px 30px 30px",backgroundColor:H,boxShadow:!0},o.a.createElement(b,null),o.a.createElement(M,null))),o.a.createElement(h,{width:"80%",margin:"30px 30px 30px 0px"},o.a.createElement(h,{height:"100%",width:"33%",margin:"0px 30px 0px 0px",direction:"column"},o.a.createElement(h,{borderRadius:"20px",title:"Usage",padding:"20px",height:"100px",width:"100%",backgroundColor:H,boxShadow:!0},o.a.createElement(z,null)),o.a.createElement(h,{borderRadius:"20px",justifyContent:"center",title:"Rooms",direction:"column",padding:"20px",height:"calc(75% - 80px)",width:"100%",margin:"0px 30px 0px 0px",backgroundColor:H,boxShadow:!0},o.a.createElement(L,null)),o.a.createElement(h,{borderRadius:"20px",title:"Most Active",padding:"20px",height:"calc(25% - 80px)",width:"100%",backgroundColor:H,boxShadow:!0},o.a.createElement(A,null))),o.a.createElement(h,{height:"100%",width:"66%",direction:"column"},o.a.createElement(h,{direction:"row"},o.a.createElement(h,{borderRadius:"20px",padding:"20px",height:"100px",width:"50%",margin:"30px 30px 0px 0px",backgroundColor:H,boxShadow:!0},o.a.createElement(j,null)),o.a.createElement(h,{borderRadius:"20px",padding:"20px",height:"100px",width:"50%",margin:"30px 0px 0px 0px",backgroundColor:H,boxShadow:!0},o.a.createElement(F,{fontSize:28,title:"N/A",description:"Change since last month"}))),o.a.createElement(h,{borderRadius:"20px",title:"Month",padding:"20px",height:"calc(100% - 160px)",width:"100%",margin:"0px 0px 0px 0px",backgroundColor:H,boxShadow:!0},o.a.createElement(D,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[198,1,2]]]);
//# sourceMappingURL=main.1a1df162.chunk.js.map