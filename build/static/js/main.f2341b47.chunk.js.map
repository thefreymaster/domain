{"version":3,"sources":["common/Container.jsx","common/Title.jsx","common/Flex.jsx","components/Branding/index.jsx","Context.jsx","api/rest.js","common/TitleAndDescription.jsx","components/Rooms/index.jsx","components/Power/index.jsx","components/Hours/index.jsx","components/Status/index.jsx","components/Active/index.jsx","components/Breakdown/index.jsx","utils.js","App.js","serviceWorker.js","index.js"],"names":["Container","props","inline","display","justifyContent","alignItems","height","window","innerHeight","width","innerWidth","backgroundColor","style","children","Title","color","fontSize","fontFamily","Flex","flexDirection","direction","padding","margin","borderRadius","flexWrap","boxShadow","Fragment","minHeight","title","Branding","borderBottom","size","icon","faLightbulb","marginTop","Context","React","createContext","zones","usage","amount","time","change","house","totalTimeOn","reducer","state","action","newState","type","rooms","payload","analytics","Error","initialState","totalPowerOn","isLoading","Provider","useReducer","dispatch","useLayoutEffect","axios","get","then","response","catch","error","console","log","res","data","socket","on","value","TitleAndDescription","item","name","marginLeft","noMargin","description","Rooms","useState","loading","setLoading","context","useContext","Lumen","handleChange","id","room","toString","turnRoomOff","turnRoomOn","map","checked","onChange","Power","power","parseFloat","toFixed","Hours","length","month","Date","getMonth","filter","hours","Status","onFor","onForString","bubble","marginBottom","border","transition","getTime","lastOn","roomMonths","Math","max","Breakdown","millisec","roomAnalytics","label","top","right","bottom","left","innerRadius","padAngle","cornerRadius","colors","scheme","borderWidth","borderColor","from","modifiers","radialLabelsSkipAngle","radialLabelsTextXOffset","radialLabelsTextColor","radialLabelsLinkOffset","radialLabelsLinkDiagonalLength","radialLabelsLinkHorizontalLength","radialLabelsLinkStrokeWidth","radialLabelsLinkColor","slicesLabelsSkipAngle","slicesLabelsTextColor","animate","motionStiffness","motionDamping","sortByValue","GREY","Layout","Header","Footer","Content","io","App","setHeight","addEventListener","Active","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f2341b47.chunk.js","sourcesContent":["import React from 'react';\n\nconst Container = (props) => {\n    const inline = {\n        display: 'flex',\n        justifyContent: props.justifyContent,\n        alignItems: props.alignItems,\n        height: window.innerHeight,\n        width: window.innerWidth,\n        backgroundColor: props.backgroundColor,\n    }\n    return <div style={inline}>{props.children}</div>\n}\n\nexport default Container;","import React from 'react';\n\nconst Title = (props) => {\n    const inline = {\n        color: 'white',\n        fontSize: 18,\n        fontFamily:` 'Fredoka One', cursive`,\n        ...props.style\n    }\n    return <div style={inline}>{props.children}</div>\n}\n\nexport default Title;","import React from 'react';\nimport Title from './Title';\n\nconst Flex = (props) => {\n    const inline = {\n        display: 'flex',\n        flexDirection: props.direction,\n        justifyContent: props.justifyContent,\n        alignItems: props.alignItems,\n        height: props.height,\n        width: props.width,\n        backgroundColor: props.backgroundColor,\n        padding: props.padding,\n        margin: props.margin,\n        borderRadius: props.borderRadius,\n        flexWrap: props.flexWrap,\n        boxShadow: props.boxShadow && `0 2px 1px -1px rgba(0,0,0,.2), 0 1px 1px 0 rgba(0,0,0,.14), 0 1px 3px 0 rgba(0,0,0,.12)`,\n        padding: props.padding,\n        ...props.style,\n    }\n    return (\n        <React.Fragment>\n            <Title style={{ minHeight: props.title && 30 }}>{props.title}</Title>\n            <div style={inline}>\n                {props.children}\n            </div>\n        </React.Fragment>\n    )\n}\n\nexport default Flex;","import React from 'react';\nimport Flex from '../../common/Flex';\nimport Title from '../../common/Title';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faLightbulb } from '@fortawesome/free-solid-svg-icons'\n\nconst Branding = () => {\n    return (\n        <Flex height=\"120px\" width=\"100%\" justifyContent=\"center\" alignItems=\"center\" direction=\"column\" style={{borderBottom: 'dashed 2px #ffffff3b'}}>\n            <FontAwesomeIcon size=\"2x\" style={{color: 'white'}} icon={faLightbulb} />\n            <div style={{ marginTop: 10 }} />\n            <Title>Lumen</Title>\n        </Flex>\n    )\n}\n\nexport default Branding;","import React from 'react';\nimport { isEqual } from 'lodash';\nimport { getRooms, getAnalytics } from './api/rest';\n\nconst defaultState = {\n    zones: [{\n        \"name\": \"Front Yard Center\",\n        \"zone\": \"1\",\n        \"active\": false,\n        \"uptime\": 0\n    },\n    {\n        \"name\": \"Front Yard Right\",\n        \"zone\": \"2\",\n        \"active\": false,\n        \"uptime\": 0\n    },\n    {\n        \"name\": \"Backyard\",\n        \"zone\": \"4\",\n        \"active\": false,\n        \"uptime\": 0\n    },\n    {\n        \"name\": \"Front Yard Flower Beds\",\n        \"zone\": \"5\",\n        \"active\": false,\n        \"uptime\": 0\n    }],\n    usage: {\n        amount: 0,\n        time: 0,\n        change: 0,\n    },\n    house: {\n        totalTimeOn: 0,\n    }\n}\n\nexport const Context = React.createContext(defaultState);\n\nconst reducer = (state, action) => {\n    const newState = { ...state };\n    switch (action.type) {\n        case 'SET_ROOMS':\n            newState.rooms = action.payload.rooms;\n            newState.house = action.payload.house;\n            break;\n        case 'SET_ANALYTICS':\n            newState.analytics = action.payload;\n            break;\n        default:\n            throw new Error();\n    }\n    return newState;\n}\n\nconst initialState = { rooms: [], house: { \n    analytics: [],\n    totalPowerOn: 0,\n}, isLoading: false };\n\nexport const Provider = (props) => {\n    const [state, dispatch] = React.useReducer(reducer, initialState);\n    React.useLayoutEffect(() => {\n        const rooms = getRooms();\n        rooms.then((res) => {\n            dispatch({ type: 'SET_ROOMS', payload: res.data })\n            console.log(state)\n\n        })\n        props.socket.on('groups_update', (data) => {\n            dispatch({ type: 'SET_ROOMS', payload: data })\n        })\n    }, [])\n\n    return (\n        <Context.Provider value={{ ...state, dispatch }}>\n            {props.children}\n        </Context.Provider>\n    )\n}","import axios from 'axios';\n\nexport const getZones = () => axios.get('/api/zones')\n    .then(response => response)\n    .catch(function (error) {\n        // handle error\n        console.log(error);\n    })\n\nexport const setZoneOn = ({ zone, setZones }) => {\n    axios.get(`/api/zone/on/${zone.zone}`)\n        .then(response => {\n            setZones(response.data)\n        })\n        .catch(function (error) {\n            // handle error\n            console.log(error);\n        })\n}\n\nexport const setZoneOff = ({ zone, setZones }) => axios.get(`/api/zone/off/${zone.zone}`)\n    .then(response => setZones(response.data))\n    .catch(function (error) {\n        // handle error\n        console.log(error);\n    })\n\nexport const getCalendarEntries = () => axios.get('/api/calendar')\n    .then(response => response)\n    .catch(function (error) {\n        // handle error\n        console.log(error);\n    })\n\nexport const getCalendarEntriesCount = () => axios.get('/api/calendar/count')\n    .then(response => response)\n    .catch(function (error) {\n        // handle error\n        console.log(error);\n    })\n\nexport const getRooms = () => axios.get('/api/rooms')\n    .then(response => {\n        return response\n    })\n    .catch(function (error) {\n        // handle error\n        console.log(error);\n    })\n\nexport const getAnalytics = () => axios.get('/api/analytics')\n    .then(response => {\n        return response\n    })\n    .catch(function (error) {\n        // handle error\n        console.log(error);\n    })\n\nexport const turnRoomOn = (id, setLoading) => axios.get(`/api/room/on/${id}`)\n    .then(response => {\n        setLoading(0);\n        return response\n    })\n    .catch(function (error) {\n        // handle error\n        console.log(error);\n    })\n\nexport const turnRoomOff = (id, setLoading) => axios.get(`/api/room/off/${id}`)\n    .then(response => {\n        setLoading(0);\n        return response\n    })\n    .catch(function (error) {\n        // handle error\n        console.log(error);\n    })","import React from 'react';\nimport Flex from './Flex';\n\nconst TitleAndDescription = (props) => {\n    const inline = {\n        item: {\n            padding: '12px 0px 12px 0px',\n            color: 'white',\n            fontFamily: '\"Fredoka One\", cursive',\n        },\n        name: {\n            fontSize: props.fontSize,\n            marginLeft: props.noMargin ? 0 : 10,\n            color: 'white',\n            fontFamily: '\"Fredoka One\", cursive',\n        },\n        description: {\n            fontSize: 11,\n            marginLeft: props.noMargin ? 0 : 10,\n            color: '#ffffff6b',\n            fontFamily: '\"Fredoka One\", cursive',\n        }\n    }\n    return (\n        <Flex direction=\"column\">\n            <div style={inline.name}>{props.title}</div>\n            <div style={inline.description}>{props.description}</div>\n        </Flex>\n    )\n}\n\nexport default TitleAndDescription;","import React from 'react';\nimport * as Lumen from \"../../Context\";\nimport Flex from '../../common/Flex';\nimport { Switch } from 'antd';\nimport { turnRoomOff, turnRoomOn } from '../../api/rest';\nimport TitleAndDescription from '../../common/TitleAndDescription';\n\nconst Rooms = (props) => {\n    const [loading, setLoading] = React.useState(0);\n\n    const context = React.useContext(Lumen.Context);\n\n    const handleChange = ({ on, id, setLoading, room }) => {\n        setLoading(id.toString());\n\n        return on ? turnRoomOff(id, setLoading) : turnRoomOn(id, setLoading)\n    }\n\n    const style = {\n        item: {\n            padding: '12px 0px 12px 0px',\n            color: 'white',\n            fontFamily: '\"Fredoka One\", cursive',\n        },\n        name: {\n            marginLeft: 10,\n        },\n        description: {\n            fontSize: 11,\n            marginLeft: 10,\n            color: '#ffffff6b',\n            fontFamily: '\"Fredoka One\", cursive',\n        }\n    }\n\n    return context.rooms.map(room => {\n        return (\n            <Flex alignItems=\"center\" direction=\"row\" style={style.item}>\n                <Switch loading={loading == room.id} checked={room.on} onChange={() => handleChange({ on: room.on, id: room.id, setLoading, room })} />\n                <TitleAndDescription fontSize={14} title={room.name} description={room.on ? \"All lights on\" : \"No lights on\"} />\n            </Flex>\n        )\n    })\n}\n\nexport default Rooms;","import React from 'react';\nimport * as Lumen from \"../../Context\";\nimport TitleAndDescription from '../../common/TitleAndDescription';\nimport { POWER_PER_HOUR, getHours } from '../../utils';\n\nconst Power = () => {\n    const context = React.useContext(Lumen.Context);\n    const power = parseFloat(context.house.totalPowerOn).toFixed(2) || 0;\n    return (<TitleAndDescription fontSize={28} title={`${power}W`} description=\"Power Usage\" />)\n}\n\nexport default Power;","import React from 'react';\nimport { filter } from 'lodash';\nimport * as Lumen from \"../../Context\";\nimport TitleAndDescription from '../../common/TitleAndDescription';\nimport { POWER_PER_HOUR, getHours } from '../../utils';\n\nconst Hours = () => {\n    const context = React.useContext(Lumen.Context);\n    if (context.house.analytics.length === 0) {\n        return null\n    }\n    const month = new Date().getMonth();\n    const [hours] = filter(context.house.analytics, { id: month }) || 0;\n    return (<TitleAndDescription fontSize={28} title={`${(hours.totalTimeOn / 3600000).toFixed(2)}H`} description=\"Hours Active\" />)\n}\n\nexport default Hours;","import React from 'react';\nimport * as Lumen from \"../../Context\";\nimport TitleAndDescription from '../../common/TitleAndDescription';\nimport { POWER_PER_HOUR, getHours } from '../../utils';\nimport Flex from '../../common/Flex';\n\nconst Status = () => {\n    const context = React.useContext(Lumen.Context);\n    return context.rooms.map(room => {\n        const inline = {\n            bubble: {\n                height: 30,\n                width: 30,\n                backgroundColor: room.on ? '#ffd34d' : '#cccccc',\n                borderRadius: 50,\n                marginBottom: 5,\n                border: \"4px solid grey\",\n                transition: 'background-color 1s ease-in-out',\n            },\n            onFor: {\n                fontSize: 10,\n                backgroundColor: '#cccccc',\n                padding: '0px 10px 0px 10px',\n                borderRadius: 30,\n            }\n        }\n        let onFor;\n        let onForString;\n        if (room.on) {\n            const now = new Date().getTime();\n            onFor = ((now - room.lastOn) / 60000).toFixed(2);\n            onForString = `On For ${onFor}Min`\n        }\n        else{\n            onForString = 'Off'\n        }\n        return <Flex direction=\"column\" style={{ borderBottom: \"2px dashed rgba(255, 255, 255, 0.23)\" }} justifyContent=\"center\" alignItems=\"center\" height=\"100px\" width=\"100%\">\n            <div style={inline.bubble}></div>\n            <TitleAndDescription noMargin fontSize={12} title={room.name} />\n            <div style={inline.onFor}>{onForString}</div>\n        </Flex>\n    }\n    )\n}\n\nexport default Status;","import React from 'react';\nimport { filter } from 'lodash';\nimport * as Lumen from \"../../Context\";\nimport TitleAndDescription from '../../common/TitleAndDescription';\n\nconst Power = () => {\n    const context = React.useContext(Lumen.Context);\n    if (context.rooms.length === 0) {\n        return null\n    }\n    const month = new Date().getMonth();\n    const power = parseFloat(context.rooms).toFixed(2) || 0;\n    const roomMonths = context.rooms.map(room => (\n        room.analytics[month].totalTimeOn\n    ))\n    const mostActive = Math.max(...roomMonths.map(room => room.totalTimeOn));\n    return null\n}\n\nexport default Power;","import React from 'react';\nimport { filter } from 'lodash';\nimport * as Lumen from \"../../Context\";\nimport { ResponsivePie } from '@nivo/pie'\nimport { getHours } from '../../utils';\n\nconst Breakdown = () => {\n    const context = React.useContext(Lumen.Context);\n    if (context.rooms.length === 0) {\n        return null\n    }\n    const data = context.rooms.map(room => {\n        const [roomAnalytics] = filter(room.analytics, { id: new Date().getMonth() });\n        const roomData = {\n            label: room.name,\n            id: room.name,\n            value: getHours(roomAnalytics.totalTimeOn),\n        }\n        return roomData;\n    })\n    return (\n        <ResponsivePie\n            data={data}\n            margin={{ top: 40, right: 80, bottom: 80, left: 80 }}\n            innerRadius={0.5}\n            padAngle={0.7}\n            cornerRadius={3}\n            colors={{ scheme: 'nivo' }}\n            borderWidth={1}\n            borderColor={{ from: 'color', modifiers: [['darker', 0.2]] }}\n            radialLabelsSkipAngle={10}\n            radialLabelsTextXOffset={6}\n            radialLabelsTextColor=\"#fff\"\n            radialLabelsLinkOffset={0}\n            radialLabelsLinkDiagonalLength={16}\n            radialLabelsLinkHorizontalLength={24}\n            radialLabelsLinkStrokeWidth={1}\n            radialLabelsLinkColor={{ from: 'color' }}\n            slicesLabelsSkipAngle={10}\n            slicesLabelsTextColor=\"#fff\"\n            animate={true}\n            motionStiffness={90}\n            motionDamping={15}\n            sortByValue\n        />\n    )\n}\n\nexport default Breakdown;","export const POWER_PER_HOUR = 9.3;\n\nexport const getHours = (millisec) => (millisec / (1000 * 60 * 60)).toFixed(2);","import React from 'react';\nimport './App.css';\nimport { Layout } from 'antd';\nimport io from 'socket.io-client';\n\n\nimport Container from './common/Container';\nimport Flex from './common/Flex';\nimport Branding from './components/Branding';\nimport * as Lumen from \"./Context\";\nimport Rooms from './components/Rooms';\nimport TitleAndDescription from './common/TitleAndDescription';\nimport Power from './components/Power';\nimport Hours from './components/Hours';\nimport Status from './components/Status';\nimport Active from './components/Active';\nimport Breakdown from './components/Breakdown';\n\nconst { Header, Footer, Content } = Layout;\n\nexport const GREEN = \"#37b86e\";\nexport const GREY = \"#4d4d4d\";\n\nconst socket = io('http://192.168.124.22:6700');\n\nfunction App() {\n  const [height, setHeight] = React.useState(window.innerHeight);\n  const [open, setOpen] = React.useState(false);\n  const inline = {\n    zones: {\n      width: '100%',\n      flexWrap: 'wrap',\n      paddingTop: 20,\n      paddingRight: 20,\n    },\n    calendar: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n      width: '100%',\n      title: {\n        position: 'relative',\n        top: 20,\n        fontWeight: 500\n      }\n    },\n  }\n\n  window.addEventListener('resize', () => {\n    setHeight(window.innerHeight - 129)\n  })\n\n  return (\n    <Lumen.Provider socket={socket}>\n      <Container backgroundColor=\"#353535\">\n        <Flex width=\"20%\">\n          <Flex direction=\"column\" alignItems=\"center\" borderRadius=\"20px\" width=\"100%\" padding=\"20px\" margin=\"30px 30px 30px 30px\" backgroundColor={GREY} boxShadow>\n            <Branding />\n            <Status />\n          </Flex>\n        </Flex>\n        <Flex width=\"80%\" margin=\"30px 30px 30px 0px\">\n          <Flex height=\"100%\" width=\"33%\" margin=\"0px 30px 0px 0px\" direction=\"column\">\n            <Flex borderRadius=\"20px\" title=\"Usage\" padding=\"20px\" height=\"100px\" width=\"100%\" backgroundColor={GREY} boxShadow>\n              <Power />\n            </Flex>\n            <Flex borderRadius=\"20px\" justifyContent=\"center\" title=\"Rooms\" direction=\"column\" padding=\"20px\" height=\"calc(75% - 80px)\" width=\"100%\" margin=\"0px 30px 0px 0px\" backgroundColor={GREY} boxShadow>\n              <Rooms />\n            </Flex>\n            <Flex borderRadius=\"20px\" title=\"Most Active\" padding=\"20px\" height=\"calc(25% - 80px)\" width=\"100%\" backgroundColor={GREY} boxShadow>\n              <Active />\n            </Flex>\n          </Flex>\n          <Flex height=\"100%\" width=\"66%\" direction=\"column\">\n            <Flex direction=\"row\">\n              <Flex borderRadius=\"20px\" padding=\"20px\" height=\"100px\" width=\"50%\" margin=\"30px 30px 0px 0px\" backgroundColor={GREY} boxShadow>\n                <Hours />\n              </Flex>\n              <Flex borderRadius=\"20px\" padding=\"20px\" height=\"100px\" width=\"50%\" margin=\"30px 0px 0px 0px\" backgroundColor={GREY} boxShadow>\n                <TitleAndDescription fontSize={28} title=\"N/A\" description=\"Change since last month\" />\n              </Flex>\n            </Flex>\n            <Flex borderRadius=\"20px\" title=\"Month\" padding=\"20px\" height=\"calc(100% - 160px)\" width=\"100%\" margin=\"0px 0px 0px 0px\" backgroundColor={GREY} boxShadow>\n              <Breakdown />\n            </Flex>\n          </Flex>\n        </Flex>\n      </Container>\n    </Lumen.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport * as Context from \"./Context\";\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}